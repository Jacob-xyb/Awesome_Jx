# 系数

## 判定系数

- 概念

判定系数（coefficient of determination，记为 $R^2$ 或 $r^2$ ），也叫可决系数或决定系数，是指在线性回归中，回归平方和与总离差平方和之比值，其数值等于相关系数的平方。它是对估计的回归方程拟合优度的度量。为说明它的含义，需要对因变量y取值的变差进行研究。

对于简单线性回归而言，判定系数为样本相关系数的平方。当加入其他回归自变量后，决定系数相应地变为多重相关系数的平方。

- 计算

假设一数据集包括   $y_1,{\dotsm},y_n$  共*n*个观察值，相对应的模型预测值分别为 $f_1,\dotsm,f_n$ 。

定义`残差` $e_i = y_i - f_i$ ，

平均观察值为
$$
\bar{y} = {1 \over n}{\sum_{i=1}^ny_i}
$$
总平方和
$$
SS_{tot} = \sum_{i=1}^n(y_i-\bar y)
$$
回归平方和
$$
SS_{reg} = \sum_{i=1}^n(f_i-\bar y)^2
$$
残差平方和
$$
SS_{res} = \sum_{i=1}^n (f_i - y_i)^2 = \sum_{i=1}^n e_i^2
$$
`总平方和` 与 `残差平方和` 示意图

![图1.判定系数](https://bkimg.cdn.bcebos.com/pic/f7246b600c338744b7c2f98e5a0fd9f9d72aa039?x-bce-process=image/resize,m_lfit,w_1280,limit_1/format,f_auto)

判定系数
$$
R^2= 1 - \frac{{\color{blue}SS_{res}}}{{\color{red}SS_{tot}}}
$$
判定系数只是说明列入模型的所有解释变量对因变量的联合的影响程度，不说明模型中单个解释变量的影响程度。



判定系数达到多少为宜？没有一个统一的明确界限值；若建模的目的是预测因变量值，一般需考虑有较高的判定系数。

若建模的目的是结构分析，就不能只追求高的判定系数，而是要得到总体回归系数的可信任的估计量。

判定系数高并不一定说明每个回归系数都可信任。